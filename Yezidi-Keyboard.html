<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Keyboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="input-container">
            <input type="text" id="textInput" placeholder="اكتب هنا..." readonly>
            <button id="playTextButton">Play Text</button>
        </div>
        <div id="keyboard" class="keyboard">
            <!-- Add buttons for each letter -->
            <button class="key" data-char="ا" data-sound="a.mp3">
                A<br><span class="sub-char">ا</span>
            </button>
            <button class="key" data-char="ب" data-sound="b.mp3">
                B<br><span class="sub-char">ب</span>
            </button>
            <button class="key" data-char="ت" data-sound="t.mp3">
                C<br><span class="sub-char">ت</span>
            </button>
            <button class="key" data-char="ث" data-sound="sounds/th.mp3">
                D<br><span class="sub-char">ث</span>
            </button>
            <button class="key" data-char="ج" data-sound="sounds/j.mp3">
                E<br><span class="sub-char">ج</span>
            </button>
            <button class="key" data-char="ح" data-sound="sounds/h.mp3">
                F<br><span class="sub-char">ح</span>
            </button>
            <button class="key" data-char="خ" data-sound="sounds/kh.mp3">
                G<br><span class="sub-char">خ</span>
            </button>
            <button class="key" data-char="د" data-sound="sounds/d.mp3">
                H<br><span class="sub-char">د</span>
            </button>
            <button class="key" data-char="ذ" data-sound="sounds/dh.mp3">
                I<br><span class="sub-char">ذ</span>
            </button>
            <button class="key" data-char="ر" data-sound="r.mp3">
                J<br><span class="sub-char">ر</span>
            </button>
            <button class="key" data-char="ز" data-sound="sounds/z.mp3">
                K<br><span class="sub-char">ز</span>
            </button>
            <button class="key" data-char="س" data-sound="sounds/s.mp3">
                L<br><span class="sub-char">س</span>
            </button>
            <button class="key" data-char="ش" data-sound="sounds/sh.mp3">
                M<br><span class="sub-char">ش</span>
            </button>
            <button class="key" data-char="ص" data-sound="sounds/ss.mp3">
                N<br><span class="sub-char">ص</span>
            </button>
            <button class="key" data-char="ض" data-sound="sounds/dd.mp3">
                O<br><span class="sub-char">ض</span>
            </button>
            <button class="key" data-char="ط" data-sound="sounds/t.mp3">
                P<br><span class="sub-char">ط</span>
            </button>
            <button class="key" data-char="ظ" data-sound="sounds/th.mp3">
                Q<br><span class="sub-char">ظ</span>
            </button>
            <button class="key" data-char="ع" data-sound="sounds/aa.mp3">
                R<br><span class="sub-char">ع</span>
            </button>
            <button class="key" data-char="غ" data-sound="sounds/gh.mp3">
                S<br><span class="sub-char">غ</span>
            </button>
            <button class="key" data-char="ف" data-sound="sounds/f.mp3">
                T<br><span class="sub-char">ف</span>
            </button>
            <button class="key" data-char="ق" data-sound="sounds/q.mp3">
                U<br><span class="sub-char">ق</span>
            </button>
            <button class="key" data-char="ك" data-sound="sounds/k.mp3">
                V<br><span class="sub-char">ك</span>
            </button>
            <button class="key" data-char="ل" data-sound="sounds/l.mp3">
                W<br><span class="sub-char">ل</span>
            </button>
            <button class="key" data-char="م" data-sound="sounds/m.mp3">
                X<br><span class="sub-char">م</span>
            </button>
            <button class="key" data-char="ن" data-sound="sounds/n.mp3">
                Y<br><span class="sub-char">ن</span>
            </button>
            <button class="key" data-char="ه" data-sound="sounds/h.mp3">
                Z<br><span class="sub-char">ه</span>
            </button>
     
            <button class="key delete-key" data-sound="sounds/delete.mp3">
                DELETE
            </button>
        </div>
    </div>
    <audio id="keySound"></audio> <!-- مشغل الصوت العام -->
    <audio id="playSound"></audio> <!-- مشغل الصوت لزر Play Text -->
    <script src="script.js"></script>
</body>
</html>

<style/>
body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f0f0;
    margin: 0;
    font-family: Arial, sans-serif;
}

.container {
    text-align: center;
}

#textInput {
    width: 300px;
    padding: 10px;
    font-size: 19px;
    margin-bottom: 20px;
}

.keyboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.key {
    width: 50px; /* increased to accommodate the additional line */
    height: 60px; /* increased to accommodate the additional line */
    margin: 5px;
    font-size: 20px;
    background-color: #ffffff;
    border: 1px solid #cccccc;
    border-radius: 4px;
    cursor: pointer;
    display:
    transition: transform 0.1s, background-color 0.1s;
}

.key:active {
    transform: scale(0.9);
    background-color: #dddddd;
}

.sub-char {
    color: red;
    font-size: 14px;
}
    .delete-key {
    width: 120px; /* wider for better visibility */
    height: 60px; /* same height as other keys */
    background-color: #ff6666; /* different color for delete key */
    color: #ffffff;
    font-size: 16px;
}

.delete-key:active {
    background-color: #ff3333;
}
</style>

<script/>

document.addEventListener('DOMContentLoaded', (event) => {
    const keys = document.querySelectorAll('.key');
    const textInput = document.getElementById('textInput');
    const keySound = document.getElementById('keySound');
    const playTextButton = document.getElementById('playTextButton');
    const playSound = document.getElementById('playSound');

    // Define sound files for each Arabic character
    const sounds = {
        'ا': 'a.mp3',
        'ب': 'b.mp3',
        'ت': 't.mp3',
        'ث': 'th.mp3',
        'ج': 'j.mp3',
        'ح': 'h.mp3',
        'خ': 'kh.mp3',
        'د': 'd.mp3',
        'ذ': 'dh.mp3',
        'ر': 'r.mp3',
        'ز': 'z.mp3',
        'س': 's.mp3',
        'ش': 'sh.mp3',
        'ص': 'ss.mp3',
        'ض': 'dd.mp3',
        'ط': 't.mp3',
        'ظ': 'th.mp3',
        'ع': 'aa.mp3',
        'غ': 'gh.mp3',
        'ف': 'f.mp3',
        'ق': 'q.mp3',
        'ك': 'k.mp3',
        'ل': 'l.mp3',
        'م': 'm.mp3',
        'ن': 'n.mp3',
        'ه': 'h.mp3',
        ' ': 'space.mp3'
    };

    // Function to play sound based on character
    function playCharacterSound(character) {
        if (sounds[character]) {
            playSound.src = sounds[character];
            playSound.currentTime = 0;
            playSound.play();
        }
    }

    // Add event listeners to keyboard keys
    keys.forEach(key => {
        key.addEventListener('click', () => {
            const char = key.getAttribute('data-char');
            const sound = key.getAttribute('data-sound');
            if (char) {
                textInput.value += char;
            } else if (key.classList.contains('delete-key')) {
                textInput.value = textInput.value.slice(0, -1);
            }

            // Play the specific key sound
            keySound.src = sound;
            keySound.currentTime = 0; // Rewind to the start
            keySound.play();
        });
    });

    // Add event listener to the "Play Text" button
    playTextButton.addEventListener('click', () => {
        const text = textInput.value;
        let index = 0;

        function playNextSound() {
            if (index < text.length) {
                const char = text[index];
                playCharacterSound(char);
                index++;
                setTimeout(playNextSound, 500); // Adjust the timeout for desired speed
            }
        }

        playNextSound();
    });

    // Add event listeners to keys to play sound for the next character
    keys.forEach(key => {
        key.addEventListener('click', function () {
            const char = key.getAttribute('data-char');
            const currentIndex = textInput.value.length;
            const nextChar = textInput.value[currentIndex] || '';

            // Play sound for the current character and next character
            playCharacterSound(char);
            if (nextChar) {
                playCharacterSound(nextChar);
            }
        });
    });
});
</script>

